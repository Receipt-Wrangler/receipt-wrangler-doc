"use strict";(self.webpackChunkreceipt_wrangler_doc=self.webpackChunkreceipt_wrangler_doc||[]).push([[9829],{55771:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>l,contentTitle:()=>s,default:()=>h,frontMatter:()=>a,metadata:()=>o,toc:()=>c});var n=t(74848),i=t(28453);const a={},s="Networking",o={id:"troubleshooting/networking",title:"Networking",description:"Working with Traefic (Thanks to u/rmath3ws!)",source:"@site/versioned_docs/version-5.x/troubleshooting/networking.md",sourceDirName:"troubleshooting",slug:"/troubleshooting/networking",permalink:"/docs/troubleshooting/networking",draft:!1,unlisted:!1,tags:[],version:"5.x",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Troubleshooting",permalink:"/docs/category/troubleshooting"},next:{title:"4.x to 5.x Migration Guide",permalink:"/docs/migration-guide"}},l={},c=[{value:"Working with Traefic (Thanks to u/rmath3ws!)",id:"working-with-traefic-thanks-to-urmath3ws",level:2}];function d(e){const r={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.header,{children:(0,n.jsx)(r.h1,{id:"networking",children:"Networking"})}),"\n",(0,n.jsx)(r.h2,{id:"working-with-traefic-thanks-to-urmath3ws",children:"Working with Traefic (Thanks to u/rmath3ws!)"}),"\n",(0,n.jsx)(r.p,{children:"For those that are using Traefic and Receipt Wrangler, there may be some issues with using Traefic that have not been\naddressed yet in Receipt Wrangler. Below is a link to discussion in the Receipt Wrangler subreddit that may help\nconfiguration."}),"\n",(0,n.jsxs)(r.p,{children:["Original thread: ",(0,n.jsx)(r.a,{href:"https://www.reddit.com/r/receiptwrangler/comments/1gc7qus/receipt_wrangler_and_reverse_proxy/",children:"https://www.reddit.com/r/receiptwrangler/comments/1gc7qus/receipt_wrangler_and_reverse_proxy/"}),"\nAdditionally, here is an example config with Traefic labels defined."]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-yaml",metastring:'title="docker-compose.yaml"',children:'services:\n  db:\n    image: library/mariadb:10\n    restart: unless-stopped\n    environment:\n      - MYSQL_ROOT_PASSWORD=<>\n      - MYSQL_USER=<>\n      - MYSQL_PASSWORD=<>\n      - MYSQL_DATABASE=<>\n    volumes:\n      - ./mariadb:/var/lib/mysql\n    #    networks:\n    #      - proxynet\n    healthcheck:\n      test: [ "CMD", "mysqladmin", "ping", "--silent" ]\n      interval: 10s\n      timeout: 10s\n      retries: 5\n\n  wrangler:\n    image: noah231515/receipt-wrangler:latest\n    entrypoint: ./entrypoint.sh\n    restart: unless-stopped\n    volumes:\n      - ./data:/app/receipt-wrangler-api/data\n      - ./sqlite:/app/receipt-wrangler-api/sqlite\n    environment:\n      - ENCRYPTION_KEY=<>\n      - SECRET_KEY=<>\n      - DB_USER=<>\n      - DB_PASSWORD=<>\n      - DB_NAME=<>\n      - DB_HOST=db\n      - DB_PORT=3306\n      - DB_ENGINE=mariadb\n    labels:\n      - "traefik.enable=true"\n      - "traefik.http.routers.wrangler.entrypoints=http"\n      - "traefik.http.routers.wrangler.rule=Host(`wrangler.example.com`)"\n      - "traefik.http.middlewares.wrangler-https-redirect.redirectscheme.scheme=https"\n      - "traefik.http.routers.wrangler.middlewares=wrangler-https-redirect"\n      - "traefik.http.routers.wrangler-secure.entrypoints=https"\n      - "traefik.http.routers.wrangler-secure.rule=Host(`wrangler.example.com`)"\n      - "traefik.http.routers.wrangler-secure.tls=true"\n      - "traefik.http.routers.wrangler-secure.service=wrangler"\n      - "traefik.http.services.wrangler.loadbalancer.server.port=80"\n      - "traefik.docker.network=proxy"\n    depends_on:\n      db:\n        condition: service_healthy\n    ports:\n      - 9082:80\n#    networks:\n#      - proxynet\n#networks:\n#  proxynet:\n#    external: true\n\n'})})]})}function h(e={}){const{wrapper:r}={...(0,i.R)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},28453:(e,r,t)=>{t.d(r,{R:()=>s,x:()=>o});var n=t(96540);const i={},a=n.createContext(i);function s(e){const r=n.useContext(a);return n.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function o(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),n.createElement(a.Provider,{value:r},e.children)}}}]);